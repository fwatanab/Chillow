# UI インタラクション仕様
ユーザー操作の観点から、主要画面の振る舞いとコンポーネント挙動をまとめます。PC / モバイル共通のコンポーネントをベースに、レイアウトや入力導線のみ切り替えています。
## 1. サイドバー / ホーム（PC）
- 左 72px の Sidebar に「友達一覧」「＋」ボタンを配置。右側との間に `1px` の仕切り線あり。
- 友達カードは `hover` で背景アクセント、クリックでチャットルームへ遷移。
- ヘッダー（友達）部分は濃色バーで固定し、`＋` クリックでフレンドマネージャーへ遷移。
- フッターには自分のアバター・メールを表示し、クリックでマイページへ遷移。
## 2. サイドバー / ホーム（モバイル）
- ホーム画面自体が Sidebar の内容になる。チャットを開くと戻るボタン付きのフルスクリーンビューに切り替え。
- 戻るボタンで Sidebar 画面へ戻る。ヘッダーは PC と同じオプションを持つ。
- フレンドカードや `＋`、フッターの遷移先は PC と同じ。
## 3. チャットルーム
- ヘッダー: 相手のアイコン（オンライン時は右下に緑ドット）と名前のみを表示。モバイル時は戻るボタン＋同情報のバーに差し替え。
- メッセージ操作:
  - タップ/クリックでメニュー（編集/削除/通報）を表示し、外側をクリックすると閉じる。
  - 日付切替ごとに `MM/DD` ラベルを中央表示。既読/時刻はバブル外側に表示。
  - 画像スタンプは 112px 正方形で枠なし。テキストスタンプや通常メッセージはバブル内表示。
- 入力欄:
  - `＋` ボタン → PC: ファイルダイアログ即時表示。モバイル: 「写真 / ファイル」メニューを表示。
  - 右側に統合スタンプ/絵文字 `S` ボタン。最後に使用したタブを記憶。`S` ボタンや入力欄以外をクリックすると閉じる。
  - 送信ボタンはメッセージが空のとき無効。
## 4. フレンドマネージャー
- PC: Sidebar 横のメイン領域にタブ（追加 / 申請 / 管理）で表示。カード UI + 再読み込みボタンで操作。
- モバイル: 戻るボタン付きの単独画面。タブコンテンツは縦スクロール。
- フレンド管理リストは削除ボタンのみ表示、削除中インジケータあり。
## 5. マイページ
- プロフィール情報（ニックネーム / メール / フレンドコード / 権限）を表示。ログアウトボタンあり。
- PC は Sidebar + メイン、モバイルは戻るボタン付きの単画面。
## 6. 管理ダッシュボード
- `/admin` でイベント SSE を購読。未処理の通報と BAN リストをタブではなくセクション分けで表示。
- 通報カード: BAN / 拒否ボタン。BAN 時は理由・期間をプロンプト入力。処理後は SSE またはローカル更新で即時反映。
- BAN リスト: BAN 解除ボタン付き。SSE で追加/解除が自動反映される。
## 7. 添付 / スタンプ仕様
- 添付は `POST /api/messages/media` を経由し、レスポンスの `url` をそのままメッセージに埋め込む。
- スタンプ / 絵文字は `frontend/src/constants/chatPalette.ts` で一元管理。新しいプリセットを追加する場合はここに追記する。
- 画像スタンプは `/public/stickers` 配下に配置し、`asset` にファイルパスを指定すると画像として送信・表示される。